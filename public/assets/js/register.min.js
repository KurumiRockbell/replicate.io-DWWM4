/**
 * MvcUI JavaScript Gestion des Utilisateurs
 *
 * Application MvcUI
 *
 * @package    MvcUI
 * @author     Regis TEDONE
 * @email      syradev@proton.me
 * @copyright  Syradev 2023
 * @license    https://www.gnu.org/licenses/gpl-3.0.en.html  GNU General Public License
 * @version    1.5.0
 */
docReady(()=>{"use strict";var e=document,t=e.querySelector("#actionuser");
/** Constantes des sélecteurs */const r=e.querySelector("#userform"),l=e.querySelector("#email"),u=e.querySelector("#password"),o=e.querySelector("#cryptedEmail"),n=e.querySelector("#cryptedPw");
/** Récupère le jeton CSRF Token depuis sa balise meta */
let c,a=(null!==e.querySelector('meta[name="csrf-token"]')&&(c=e.querySelector('meta[name="csrf-token"]').content)
/** Positionne le focus sur le 1er champ en erreur ou sur le premier champ */,e.querySelector("input.is-invalid:first-of-type"));null===a&&null===(a=e.querySelector('input[type="text"]:first-of-type'))
/** Evènement ajouter/modifier un utilisateur */||a.focus(),t.addEventListener("click",e=>{e.preventDefault(),0<l.value.trim().length&&(o.value=window.btoa(AesJson.encrypt(l.value,c))),0<u.value.trim().length?n.value=window.btoa(AesJson.encrypt(u.value,c)):n.value="",r.submit()})});